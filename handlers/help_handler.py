# help_handler.py

from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ContextTypes
from utils.logger import logger

HELP_TEXT = """üìö *–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–≤—ñ–¥–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞—Ö:*

1Ô∏è‚É£ *–†–æ–∑–∫–ª–∞–¥ —Ç–∞ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è:*
‚Ä¢ `/rozklad` - –ø–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–∏—Ö –ø–æ–¥—ñ–π
‚Ä¢ `/reminder_on` - —É–≤—ñ–º–∫–Ω—É—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –∑–∞ –≥–æ–¥–∏–Ω—É –¥–æ –ø–æ–¥—ñ—ó
‚Ä¢ `/reminder_off` - –≤–∏–º–∫–Ω—É—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –ø–æ–¥—ñ—ó

2Ô∏è‚É£ *YouTube —Ç–∞ –≤—ñ–¥–µ–æ:*
‚Ä¢ `/latest_video` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–π–Ω–æ–≤—ñ—à–µ –≤—ñ–¥–µ–æ
‚Ä¢ `/most_popular_video` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–µ –≤—ñ–¥–µ–æ
‚Ä¢ `/share_latest` - –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –Ω–∞–π–Ω–æ–≤—ñ—à–∏–º –≤—ñ–¥–µ–æ
‚Ä¢ `/share_popular` - –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–º –≤—ñ–¥–µ–æ

3Ô∏è‚É£ *–í—ñ–¥–≥—É–∫–∏ —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó:*
‚Ä¢ `/feedback` - –∑–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫ –∞–±–æ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é
‚Ä¢ `/my_feedback` - –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –≤–∞—à–∏—Ö –≤—ñ–¥–≥—É–∫—ñ–≤
‚Ä¢ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ —Ñ–æ—Ç–æ/–≤—ñ–¥–µ–æ –¥–æ –≤—ñ–¥–≥—É–∫—ñ–≤
‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è –≤—ñ–¥–≥—É–∫—ñ–≤ —Ç–∞ –æ—Ü—ñ–Ω–∫–∏

4Ô∏è‚É£ *–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó:*
‚Ä¢ `/help` - –ø–æ–∫–∞–∑–∞—Ç–∏ —Ü—é –¥–æ–≤—ñ–¥–∫—É

üí° *–ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Ä–∞–¥–∏:*
‚Ä¢ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
‚Ä¢ –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —É–≤—ñ–º–∫–Ω–µ–Ω—ñ–π –æ–ø—Ü—ñ—ó
‚Ä¢ –í—ñ–¥–µ–æ –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–∞ –¥—ñ–ª–∏—Ç–∏—Å—è –Ω–∏–º–∏
‚Ä¢ –î–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–µ–Ω—é YouTube (‚ñ∂Ô∏è)
‚Ä¢ –ü—Ä–∏ –Ω–∞–¥–∞–Ω–Ω—ñ –≤—ñ–¥–≥—É–∫—É –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ —Ñ–æ—Ç–æ –∞–±–æ –≤—ñ–¥–µ–æ

‚ùì –Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /feedback"""


# üõ°Ô∏è –û–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏ /help
async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """
    –í—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–æ–≤—ñ–¥–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –±–æ—Ç–∞.
    """
    logger.info("üîÑ –í–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏: /help")
    try:
        help_text = (
            "*–î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏:*\n\n"
            "*–†–æ–∑–∫–ª–∞–¥ —Ç–∞ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è:*\n"
            "‚Ä¢ /rozklad - –ø–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–∏—Ö –ø–æ–¥—ñ–π\n"
            "‚Ä¢ /reminder\\_on - —É–≤—ñ–º–∫–Ω—É—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è\n"
            "‚Ä¢ /reminder\\_off - –≤–∏–º–∫–Ω—É—Ç–∏ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è\n\n"
            "*YouTube —Ç–∞ –≤—ñ–¥–µ–æ:*\n"
            "‚Ä¢ /latest\\_video - –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–π–Ω–æ–≤—ñ—à–µ –≤—ñ–¥–µ–æ\n"
            "‚Ä¢ /most\\_popular\\_video - –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–µ –≤—ñ–¥–µ–æ\n"
            "‚Ä¢ /share\\_latest - –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –Ω–∞–π–Ω–æ–≤—ñ—à–∏–º –≤—ñ–¥–µ–æ\n"
            "‚Ä¢ /share\\_popular - –ø–æ–¥—ñ–ª–∏—Ç–∏—Å—è –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏–º –≤—ñ–¥–µ–æ\n\n"
            "*–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –Ω–æ–≤—ñ –≤—ñ–¥–µ–æ:*\n"
            "‚Ä¢ /video\\_notifications\\_on - —É–≤—ñ–º–∫–Ω—É—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è\n"
            "‚Ä¢ /video\\_notifications\\_off - –≤–∏–º–∫–Ω—É—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è\n\n"
            "*–í—ñ–¥–≥—É–∫–∏ —Ç–∞ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó:*\n"
            "‚Ä¢ /feedback - –∑–∞–ª–∏—à–∏—Ç–∏ –≤—ñ–¥–≥—É–∫ –∞–±–æ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é\n"
            "‚Ä¢ /my\\_feedback - –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –≤–∞—à–∏—Ö –≤—ñ–¥–≥—É–∫—ñ–≤\n"
            "‚Ä¢ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ —Ñ–æ—Ç–æ/–≤—ñ–¥–µ–æ –¥–æ –≤—ñ–¥–≥—É–∫—ñ–≤\n"
            "‚Ä¢ –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü—ñ—è –≤—ñ–¥–≥—É–∫—ñ–≤ —Ç–∞ –æ—Ü—ñ–Ω–∫–∏\n\n"
            "*–î–æ–¥–∞—Ç–∫–æ–≤–æ:*\n"
            "‚Ä¢ /help - –ø–æ–∫–∞–∑–∞—Ç–∏ —Ü—é –¥–æ–≤—ñ–¥–∫—É\n\n"
            "üí° –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è –∑—Ä—É—á–Ω–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó"
        )

        await update.message.reply_text(help_text, parse_mode="Markdown")
        logger.info("‚úÖ –ö–æ–º–∞–Ω–¥–∞ /help –≤–∏–∫–æ–Ω–∞–Ω–∞ —É—Å–ø—ñ—à–Ω–æ")

    except Exception as e:
        logger.error(f"‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ /help: {e}")
        await update.message.reply_text(
            "‚ùå –í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ –¥–æ–≤—ñ–¥–∫–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.",
            parse_mode="Markdown",
        )


__all__ = ["help_command"]
